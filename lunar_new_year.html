<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§§ 2026 é¦¬åˆ°æˆåŠŸç´…åŒ… ğŸ§§</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body { font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif; background: #b31217; color: #fff; margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        .card { width: 90%; max-width: 350px; text-align: center; }
        h1 { font-size: 28px; color: #f9d423; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); margin-bottom: 10px; }
        .user-name { font-size: 18px; color: #f9d423; margin-bottom: 30px; }
        
        /* ç´…åŒ…è¢‹å¤–å‹ */
        .envelope { width: 180px; height: 260px; background: #e62117; border-radius: 15px; margin: 0 auto; position: relative; cursor: pointer; border: 4px solid #f9d423; box-shadow: 0 15px 35px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; }
        .envelope:hover { transform: translateY(-5px); }
        .envelope:active { transform: scale(0.9); }

        /* æ–æ™ƒå‹•ç•« */
        .shake { animation: shake 0.5s infinite; }
        @keyframes shake {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            50% { transform: rotate(0eg); }
            75% { transform: rotate(-5deg); }
            100% { transform: rotate(0deg); }
        }

        /* ç´…åŒ…è“‹èˆ‡è£é£¾ */
        .envelope::before { content: 'ç¦'; position: absolute; font-size: 60px; color: #f9d423; font-weight: bold; top: 30%; }
        .envelope::after { content: '2026'; position: absolute; font-size: 14px; bottom: 15px; color: rgba(249, 212, 35, 0.6); }

        /* é–‹ççµæœ */
        #result-box { display: none; background: #fff; color: #333; padding: 30px 20px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .prize-title { font-size: 20px; color: #666; margin-bottom: 10px; }
        .prize-name { font-size: 32px; color: #b31217; font-weight: bold; }
        .btn-reset { margin-top: 20px; background: #b31217; color: #fff; border: none; padding: 10px 20px; border-radius: 25px; cursor: pointer; }
    </style>
</head>
<body>

<div class="card">
    <div id="setup-view">
        <h1 id="greeting">æ–°æ˜¥å¿«æ¨‚ï¼</h1>
        <div id="user-display" class="user-name">æ­£åœ¨æº–å‚™ç´…åŒ…...</div>
        
        <div id="envelope-el" class="envelope shake"></div>
        <p style="margin-top: 30px; opacity: 0.8;">é»æ“Šç´…åŒ…é–‹ç</p>
    </div>

    <div id="result-box">
        <div class="prize-title">æ­å–œä½ æŠ½ä¸­</div>
        <div id="prize-text" class="prize-name">---</div>
        <button class="btn-reset" onclick="location.reload()">å†ç©ä¸€æ¬¡</button>
    </div>
</div>

<script>
    const LIFF_ID = 'ä½ çš„_LIFF_ID_è²¼åœ¨é€™è£¡'; // è«‹æ›¿æ›æˆä½ çš„ LIFF ID
    const PRIZES = [
        'ç¾é‡‘ 2000 å…ƒ ğŸ§§',
        'ç¾é‡‘ 5000 å…ƒ ğŸ’°',
        'æ—¥æœ¬ä¾†å›æ©Ÿç¥¨ âœˆï¸',
        'ç¥ç§˜é©šå–œå°ç¦® ğŸ',
        'å†ä¾†ä¸€æ¬¡ ğŸ®'
    ];

    async function init() {
        try {
            await liff.init({ liffId: LIFF_ID });
            if (!liff.isLoggedIn()) {
                liff.login();
            } else {
                const profile = await liff.getProfile();
                document.getElementById('user-display').innerText = `çµ¦ ${profile.displayName} çš„å°ˆå±¬ç´…åŒ…`;
            }
        } catch (err) {
            document.getElementById('user-display').innerText = "è«‹ç”¨ LINE é–‹å•Ÿä»¥ç²å¾—æœ€ä½³é«”é©—";
        }
    }

    document.getElementById('envelope-el').addEventListener('click', function() {
        // åœæ­¢æ–æ™ƒä¸¦éš±è—ç´…åŒ…
        this.classList.remove('shake');
        
        // éš¨æ©Ÿé¸çé …
        const luckyPrize = PRIZES[Math.floor(Math.random() * PRIZES.length)];
        
        // å™´ç™¼å½©å¸¶æ•ˆæœ
        confetti({
            particleCount: 150,
            spread: 70,
            origin: { y: 0.6 },
            colors: ['#f9d423', '#fff', '#ff0000']
        });

        // é¡¯ç¤ºçµæœ
        setTimeout(() => {
            document.getElementById('setup-view').style.display = 'none';
            document.getElementById('result-box').style.display = 'block';
            document.getElementById('prize-text').innerText = luckyPrize;
        }, 300);
    });

    init();
</script>
</body>
</html>